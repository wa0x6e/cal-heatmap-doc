<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-migrate_from_v3">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Migrating from 3.x | Cal-Heatmap</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://wa0x6e.github.io/docs/migrate_from_v3"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Migrating from 3.x | Cal-Heatmap"><meta data-rh="true" name="description" content="The current v4 release is rewritten from the ground up, and have a lot of major breaking changes."><meta data-rh="true" property="og:description" content="The current v4 release is rewritten from the ground up, and have a lot of major breaking changes."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://wa0x6e.github.io/docs/migrate_from_v3"><link data-rh="true" rel="alternate" href="https://wa0x6e.github.io/docs/migrate_from_v3" hreflang="en"><link data-rh="true" rel="alternate" href="https://wa0x6e.github.io/docs/migrate_from_v3" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://PL83U8ZEQT-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Cal-Heatmap" href="/opensearch.xml">

<link rel="stylesheet" href="/css/cal-heatmap.css">
<script src="https://d3js.org/d3.v7.min.js"></script>
<script src="https://unpkg.com/@popperjs/core@2"></script>
<script src="/js/cal-heatmap.min.js"></script>
<script src="/js/Tooltip.min.js"></script>
<script src="/js/Legend.min.js"></script>
<script src="/js/LegendLite.min.js"></script>
<script src="/js/CalendarLabel.min.js"></script><link rel="stylesheet" href="/assets/css/styles.a42314ed.css">
<link rel="preload" href="/assets/js/runtime~main.83ff3895.js" as="script">
<link rel="preload" href="/assets/js/main.039bda1d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/favicon.png" alt="Cal-Heatmap" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/favicon.png" alt="Cal-Heatmap" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Cal-Heatmap</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/getting-started/installation">Docs</a><a class="navbar__item navbar__link" href="/docs/options">Options</a><a class="navbar__item navbar__link" href="/docs/api">API</a><a class="navbar__item navbar__link" href="/docs/plugins">Plugins</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/showcase">Showcase</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/faq">FAQ</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">v4</a><ul class="dropdown__menu"><li><a href="https://cal-heatmap.com/v3/index.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">v3.1.6 <small>(deprecated)</small></a></li><li><a href="https://cal-heatmap.com/v2/index.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">v2.2.3 <small>(eol)</small></a></li></ul></div><a href="https://github.com/wa0x6e/cal-heatmap" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/getting-started">Getting started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/options">Options</a><button aria-label="Toggle the collapsible sidebar category &#x27;Options&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/events">Events</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/plugins">Plugins</a><button aria-label="Toggle the collapsible sidebar category &#x27;Plugins&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/API">API</a><button aria-label="Toggle the collapsible sidebar category &#x27;API&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/template">Template</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/migrate_from_v3">Migrating from 3.x</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/showcase">Showcase</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/advanced">Advanced</a><button aria-label="Toggle the collapsible sidebar category &#x27;Advanced&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/faq">FAQ</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Migrating from 3.x</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Migrating from 3.x</h1><p class="subhead">The current v4 release is rewritten from the ground up, and have a lot of major breaking changes.</p><p>The last 3.x release was from October 2016,
and was built on top of a vanilla JS codebase from 2012.</p><p>After 7 years, the javascript scene has seen some changes,
such as the maturity of ECMAScript, babel, and other various bundler tools,
as well as newer versions of the underlying d3.js libraries used by Cal-Heatmap.</p><p>Aside from some bugfixes and new features, the v4 branch has been rewritten
from the ground up as ES modules,
and transpiled to support older browsers.
This direction allows an easier code maintainability and readability
than the previous single file 3k lines codebase.</p><p>Most of the breaking changes come from the settings renaming, and methods removal.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="major-changes">Major changes<a href="#major-changes" class="hash-link" aria-label="Direct link to Major changes" title="Direct link to Major changes">​</a></h2><ul><li>All functions using callbacks have been migrated to use a Promise instead</li><li>Code base rewritten in Typescript, and ESnext (babel transpiled for older browser support)</li><li>New plugin system to extend/modify calendar capabilities</li><li>New Template system to use user-created calendar layout</li><li>All dates handling delegated to dayjs</li><li>Bundles for ESM, UMD</li><li>Support for D3.js v6 and v7</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="default-settings-update">Default settings update<a href="#default-settings-update" class="hash-link" aria-label="Direct link to Default settings update" title="Direct link to Default settings update">​</a></h2><ul><li><code>animationDuration</code> has been decreased from 500ms to 200ms.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="new-settings">New settings<a href="#new-settings" class="hash-link" aria-label="Direct link to New settings" title="Direct link to New settings">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="domainsort"><code>domain.sort</code><a href="#domainsort" class="hash-link" aria-label="Direct link to domainsort" title="Direct link to domainsort">​</a></h3><p>Control the sort order of the domains</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="datelocale"><code>date.locale</code><a href="#datelocale" class="hash-link" aria-label="Direct link to datelocale" title="Direct link to datelocale">​</a></h3><p>Set a custom date locale. Default to <code>en</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="datax"><code>data.x</code><a href="#datax" class="hash-link" aria-label="Direct link to datax" title="Direct link to datax">​</a></h3><p>Instruct the calendar how to extract the date from your dataset</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="datay"><code>data.y</code><a href="#datay" class="hash-link" aria-label="Direct link to datay" title="Direct link to datay">​</a></h3><p>Instruct the calendar how to extract the value from your dataset</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="datagroupy"><code>data.groupY</code><a href="#datagroupy" class="hash-link" aria-label="Direct link to datagroupy" title="Direct link to datagroupy">​</a></h3><p>Instruct the calendar how to aggregate values from same time range</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="subdomaincolor"><code>subDomain.color</code><a href="#subdomaincolor" class="hash-link" aria-label="Direct link to subdomaincolor" title="Direct link to subdomaincolor">​</a></h3><p>Dynamically color the subDomain&#x27;s label</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="scale"><code>scale</code><a href="#scale" class="hash-link" aria-label="Direct link to scale" title="Direct link to scale">​</a></h3><p>New option, grouping previous functions from <code>legend</code> and <code>legendColors</code>, to control how to colorize your dataset</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="renamedmoved-settings">Renamed/moved settings<a href="#renamedmoved-settings" class="hash-link" aria-label="Direct link to Renamed/moved settings" title="Direct link to Renamed/moved settings">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="labelalign"><code>label.align</code><a href="#labelalign" class="hash-link" aria-label="Direct link to labelalign" title="Direct link to labelalign">​</a></h3><p>Renamed to <code>label.textAlign</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="label"><code>label</code><a href="#label" class="hash-link" aria-label="Direct link to label" title="Direct link to label">​</a></h3><p>Moved inside the <code>domain</code> namespace.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="date"><code>date</code><a href="#date" class="hash-link" aria-label="Direct link to date" title="Direct link to date">​</a></h3><p><code>date</code> is now a namespace, grouping all date related options.
Old <code>date</code> option has been moved to <code>date.start</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="mindate"><code>minDate</code><a href="#mindate" class="hash-link" aria-label="Direct link to mindate" title="Direct link to mindate">​</a></h3><p>Moved to <code>date.min</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="maxdate"><code>maxDate</code><a href="#maxdate" class="hash-link" aria-label="Direct link to maxdate" title="Direct link to maxdate">​</a></h3><p>Moved to <code>date.max</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="highlight"><code>highlight</code><a href="#highlight" class="hash-link" aria-label="Direct link to highlight" title="Direct link to highlight">​</a></h3><p>Moved to <code>date.highlight</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="data"><code>data</code><a href="#data" class="hash-link" aria-label="Direct link to data" title="Direct link to data">​</a></h3><p><code>data</code> is now a namespace, grouping all data related options.
Old <code>data</code> option has been moved to <code>data.source</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="datatype"><code>dataType</code><a href="#datatype" class="hash-link" aria-label="Direct link to datatype" title="Direct link to datatype">​</a></h3><p>Moved to <code>data.type</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="domain"><code>domain</code><a href="#domain" class="hash-link" aria-label="Direct link to domain" title="Direct link to domain">​</a></h3><p><code>domain</code> is now a namespace, grouping all domain related options.
Old <code>doamin</code> option has been moved to <code>subDomain.type</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="domaingutter"><code>domainGutter</code><a href="#domaingutter" class="hash-link" aria-label="Direct link to domaingutter" title="Direct link to domaingutter">​</a></h3><p>Moved to <code>domain.gutter</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="domainmargin"><code>domainMargin</code><a href="#domainmargin" class="hash-link" aria-label="Direct link to domainmargin" title="Direct link to domainmargin">​</a></h3><p>Moved to <code>domain.padding</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="domaindynamicdimension"><code>domainDynamicDimension</code><a href="#domaindynamicdimension" class="hash-link" aria-label="Direct link to domaindynamicdimension" title="Direct link to domaindynamicdimension">​</a></h3><p>Moved to <code>domain.dynamicDimension</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="domainlabelformat"><code>domainLabelFormat</code><a href="#domainlabelformat" class="hash-link" aria-label="Direct link to domainlabelformat" title="Direct link to domainlabelformat">​</a></h3><p>Moved to <code>domain.label</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="subdomain"><code>subDomain</code><a href="#subdomain" class="hash-link" aria-label="Direct link to subdomain" title="Direct link to subdomain">​</a></h3><p><code>subDomain</code> is now a namespace, grouping all subDomain related options.
Old <code>subDomain</code> option has been moved to <code>subDomain.type</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cellsize"><code>cellSize</code><a href="#cellsize" class="hash-link" aria-label="Direct link to cellsize" title="Direct link to cellsize">​</a></h3><p>Moved to <code>subDomain.width</code> and <code>subDomain.height</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cellradius"><code>cellRadius</code><a href="#cellradius" class="hash-link" aria-label="Direct link to cellradius" title="Direct link to cellradius">​</a></h3><p>Moved to <code>subDomain.radius</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cellpadding"><code>cellPadding</code><a href="#cellpadding" class="hash-link" aria-label="Direct link to cellpadding" title="Direct link to cellpadding">​</a></h3><p>Moved to <code>subDomain.gutter</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="subdomaintextformat"><code>subDomainTextFormat</code><a href="#subdomaintextformat" class="hash-link" aria-label="Direct link to subdomaintextformat" title="Direct link to subdomaintextformat">​</a></h3><p>Moved to <code>subDomain.label</code></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="removed-settings">Removed settings<a href="#removed-settings" class="hash-link" aria-label="Direct link to Removed settings" title="Direct link to Removed settings">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="weekstartonmonday"><code>weekStartOnMonday</code><a href="#weekstartonmonday" class="hash-link" aria-label="Direct link to weekstartonmonday" title="Direct link to weekstartonmonday">​</a></h3><p>Use a custom <code>date.locale</code>, or a custom Template.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="legend-displaylegend-legendcellsize-legendcellpadding-legendcellmargin-legendverticalposition-legendhorizontalposition-legendorientation-legendtitleformat"><code>legend</code>, <code>displayLegend</code>, <code>legendCellSize</code>, <code>legendCellPadding</code>, <code>legendCellMargin</code>, <code>legendVerticalPosition</code>, <code>legendHorizontalPosition</code>, <code>legendOrientation</code>, <code>legendTitleFormat</code><a href="#legend-displaylegend-legendcellsize-legendcellpadding-legendcellmargin-legendverticalposition-legendhorizontalposition-legendorientation-legendtitleformat" class="hash-link" aria-label="Direct link to legend-displaylegend-legendcellsize-legendcellpadding-legendcellmargin-legendverticalposition-legendhorizontalposition-legendorientation-legendtitleformat" title="Direct link to legend-displaylegend-legendcellsize-legendcellpadding-legendcellmargin-legendverticalposition-legendhorizontalposition-legendorientation-legendtitleformat">​</a></h3><p>Removed, migrated to <a href="/docs/plugins/legend">Legend</a> plugin</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="legendcolors"><code>legendColors</code><a href="#legendcolors" class="hash-link" aria-label="Direct link to legendcolors" title="Direct link to legendcolors">​</a></h3><p>Moved to a new option inside <code>scale</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="subdomaindateformat-subdomaintitleformat-itemname"><code>subDomainDateFormat</code>, <code>subDomainTitleFormat</code>, <code>itemName</code><a href="#subdomaindateformat-subdomaintitleformat-itemname" class="hash-link" aria-label="Direct link to subdomaindateformat-subdomaintitleformat-itemname" title="Direct link to subdomaindateformat-subdomaintitleformat-itemname">​</a></h3><p>Removed, use Tooltip <code>text</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tooltip"><code>tooltip</code><a href="#tooltip" class="hash-link" aria-label="Direct link to tooltip" title="Direct link to tooltip">​</a></h3><p>Removed, migrated to <a href="/docs/plugins/tooltip">Tooltip</a> plugin.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="afterloaddata"><code>afterLoadData</code><a href="#afterloaddata" class="hash-link" aria-label="Direct link to afterloaddata" title="Direct link to afterloaddata">​</a></h3><p>CalHeatmap is not expecting a strict opinionated data structure anymore,
and accept an array of object, just like d3.js. See <code>data.x</code>, <code>data.y</code> and <code>data.groupY</code></p><p><code>colLimit</code>, <code>rowLimit</code></p><p>To customize the layout of the subDomains, a new <a href="/docs/template"><code>Template</code></a> system has been introduced</p><p><code>nextSelector</code>, <code>previousSelector</code></p><p>The same objective can be achieved by adding an <code>onClick()</code> event on
your desired DOM Element, and call <code>next()</code> or <code>previous()</code> on the calendar instance.</p><p><code>considerMissingDataAsZero</code></p><p>Data are treated as they are, you can preprocess/transform them using <code>data.y</code> and <code>data,.groupY</code> options.</p><p><code>itemNamespace</code></p><p>Obsolete, was only used internally to namespace the <code>nextSelector</code> and <code>previousSelector</code> onclick events.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="new-methods">New methods<a href="#new-methods" class="hash-link" aria-label="Direct link to New methods" title="Direct link to New methods">​</a></h2><ul><li><code>on(eventName, callback)</code> has been added, to replace all old callback functions.</li></ul><p>See <a href="/docs/events">Events</a> for the complete list of events</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="afterload-and-oncomplete-removed"><code>afterLoad</code> and <code>onComplete</code> removed<a href="#afterload-and-oncomplete-removed" class="hash-link" aria-label="Direct link to afterload-and-oncomplete-removed" title="Direct link to afterload-and-oncomplete-removed">​</a></h3><p>These events are now obsolete, as all methods now return a promise.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="renamed-methods">Renamed methods<a href="#renamed-methods" class="hash-link" aria-label="Direct link to Renamed methods" title="Direct link to Renamed methods">​</a></h2><ul><li><code>init(options)</code> renamed to <code>paint(options)</code>. This method can now be called multiple times with new options, and will update the calendar dynamically, instead of redrawing it from scratch.</li><li><code>update(data, afterLoad, updateMode)</code> renamed to <code>fill(data)</code>, to reflect that it&#x27;s for updating data only, and not the options. It now accepts only <code>data</code> as its only argument, all other arguments can be set via <code>paint()</code></li><li><code>destroy(callback)</code> do not take a callback argument anymore, and returns a Promise.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="removed-methods">Removed methods<a href="#removed-methods" class="hash-link" aria-label="Direct link to Removed methods" title="Direct link to Removed methods">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="rewind"><code>rewind()</code><a href="#rewind" class="hash-link" aria-label="Direct link to rewind" title="Direct link to rewind">​</a></h3><p>The same objective can be achieved by calling <code>jumpTo()</code> with your initial start date on the calendar instance.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="showlegend-removelegend-setlegend"><code>showLegend()</code>, <code>removeLegend()</code>, <code>setLegend()</code><a href="#showlegend-removelegend-setlegend" class="hash-link" aria-label="Direct link to showlegend-removelegend-setlegend" title="Direct link to showlegend-removelegend-setlegend">​</a></h3><p>The same objective can be achieved by calling <code>paint({}, [[Legend, LEGEND_OPTIONS]])</code> on the calendar instance.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="highlight-1"><code>highlight</code><a href="#highlight-1" class="hash-link" aria-label="Direct link to highlight-1" title="Direct link to highlight-1">​</a></h3><p>The same objective can be achieved by calling <code>paint({ date: { highlight: [YOUR_DATES] } })</code> on the calendar instance.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="getsvg"><code>getSVG</code><a href="#getsvg" class="hash-link" aria-label="Direct link to getsvg" title="Direct link to getsvg">​</a></h3><p>Delegated to a plugin</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="over-changes">Over changes<a href="#over-changes" class="hash-link" aria-label="Direct link to Over changes" title="Direct link to Over changes">​</a></h2><ul><li>All the CSS classes used for data coloring have been removed. The <code>scale</code> option allow a more precise color customization.</li><li>All the <code>x_</code> subDomains variants aside from <code>x_day</code> have been removed. You can re-created them with a custom template.</li><li>The mouse cursor do not change to <code>pointer</code> when hovering on a subDomain cell automatically when there is an <code>onClick</code> event registered, since there is no reliable way to detect if an onClick listener is registered anymore.</li><li>Test suite migrated to Jest, and start testing on browserstack against a matrix of browsers.</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/wa0x6e/cal-heatmap-doc/edit/main/docs/migrate_from_v3.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/template"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Template</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/showcase"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Showcase</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#major-changes" class="table-of-contents__link toc-highlight">Major changes</a></li><li><a href="#default-settings-update" class="table-of-contents__link toc-highlight">Default settings update</a></li><li><a href="#new-settings" class="table-of-contents__link toc-highlight">New settings</a><ul><li><a href="#domainsort" class="table-of-contents__link toc-highlight"><code>domain.sort</code></a></li><li><a href="#datelocale" class="table-of-contents__link toc-highlight"><code>date.locale</code></a></li><li><a href="#datax" class="table-of-contents__link toc-highlight"><code>data.x</code></a></li><li><a href="#datay" class="table-of-contents__link toc-highlight"><code>data.y</code></a></li><li><a href="#datagroupy" class="table-of-contents__link toc-highlight"><code>data.groupY</code></a></li><li><a href="#subdomaincolor" class="table-of-contents__link toc-highlight"><code>subDomain.color</code></a></li><li><a href="#scale" class="table-of-contents__link toc-highlight"><code>scale</code></a></li></ul></li><li><a href="#renamedmoved-settings" class="table-of-contents__link toc-highlight">Renamed/moved settings</a><ul><li><a href="#labelalign" class="table-of-contents__link toc-highlight"><code>label.align</code></a></li><li><a href="#label" class="table-of-contents__link toc-highlight"><code>label</code></a></li><li><a href="#date" class="table-of-contents__link toc-highlight"><code>date</code></a></li><li><a href="#mindate" class="table-of-contents__link toc-highlight"><code>minDate</code></a></li><li><a href="#maxdate" class="table-of-contents__link toc-highlight"><code>maxDate</code></a></li><li><a href="#highlight" class="table-of-contents__link toc-highlight"><code>highlight</code></a></li><li><a href="#data" class="table-of-contents__link toc-highlight"><code>data</code></a></li><li><a href="#datatype" class="table-of-contents__link toc-highlight"><code>dataType</code></a></li><li><a href="#domain" class="table-of-contents__link toc-highlight"><code>domain</code></a></li><li><a href="#domaingutter" class="table-of-contents__link toc-highlight"><code>domainGutter</code></a></li><li><a href="#domainmargin" class="table-of-contents__link toc-highlight"><code>domainMargin</code></a></li><li><a href="#domaindynamicdimension" class="table-of-contents__link toc-highlight"><code>domainDynamicDimension</code></a></li><li><a href="#domainlabelformat" class="table-of-contents__link toc-highlight"><code>domainLabelFormat</code></a></li><li><a href="#subdomain" class="table-of-contents__link toc-highlight"><code>subDomain</code></a></li><li><a href="#cellsize" class="table-of-contents__link toc-highlight"><code>cellSize</code></a></li><li><a href="#cellradius" class="table-of-contents__link toc-highlight"><code>cellRadius</code></a></li><li><a href="#cellpadding" class="table-of-contents__link toc-highlight"><code>cellPadding</code></a></li><li><a href="#subdomaintextformat" class="table-of-contents__link toc-highlight"><code>subDomainTextFormat</code></a></li></ul></li><li><a href="#removed-settings" class="table-of-contents__link toc-highlight">Removed settings</a><ul><li><a href="#weekstartonmonday" class="table-of-contents__link toc-highlight"><code>weekStartOnMonday</code></a></li><li><a href="#legend-displaylegend-legendcellsize-legendcellpadding-legendcellmargin-legendverticalposition-legendhorizontalposition-legendorientation-legendtitleformat" class="table-of-contents__link toc-highlight"><code>legend</code>, <code>displayLegend</code>, <code>legendCellSize</code>, <code>legendCellPadding</code>, <code>legendCellMargin</code>, <code>legendVerticalPosition</code>, <code>legendHorizontalPosition</code>, <code>legendOrientation</code>, <code>legendTitleFormat</code></a></li><li><a href="#legendcolors" class="table-of-contents__link toc-highlight"><code>legendColors</code></a></li><li><a href="#subdomaindateformat-subdomaintitleformat-itemname" class="table-of-contents__link toc-highlight"><code>subDomainDateFormat</code>, <code>subDomainTitleFormat</code>, <code>itemName</code></a></li><li><a href="#tooltip" class="table-of-contents__link toc-highlight"><code>tooltip</code></a></li><li><a href="#afterloaddata" class="table-of-contents__link toc-highlight"><code>afterLoadData</code></a></li></ul></li><li><a href="#new-methods" class="table-of-contents__link toc-highlight">New methods</a><ul><li><a href="#afterload-and-oncomplete-removed" class="table-of-contents__link toc-highlight"><code>afterLoad</code> and <code>onComplete</code> removed</a></li></ul></li><li><a href="#renamed-methods" class="table-of-contents__link toc-highlight">Renamed methods</a></li><li><a href="#removed-methods" class="table-of-contents__link toc-highlight">Removed methods</a><ul><li><a href="#rewind" class="table-of-contents__link toc-highlight"><code>rewind()</code></a></li><li><a href="#showlegend-removelegend-setlegend" class="table-of-contents__link toc-highlight"><code>showLegend()</code>, <code>removeLegend()</code>, <code>setLegend()</code></a></li><li><a href="#highlight-1" class="table-of-contents__link toc-highlight"><code>highlight</code></a></li><li><a href="#getsvg" class="table-of-contents__link toc-highlight"><code>getSVG</code></a></li></ul></li><li><a href="#over-changes" class="table-of-contents__link toc-highlight">Over changes</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">2023 Cal-Heatmap  •  Released under MIT Licence</div></div></div></footer></div>
<script src="/assets/js/runtime~main.83ff3895.js"></script>
<script src="/assets/js/main.039bda1d.js"></script>
</body>
</html>